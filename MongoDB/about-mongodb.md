## 대용량처리를 위한 MongoDB (Slipp 스터디 세미나 내용 정리)

데이터베이스 패러다임
주로 시퀄이나 논시퀄이냐로 나눈다

최종적으로 데이터를 저장하는 데이터베이슨 전산 역사적으로 계속 관계형 데이터베이스였다

최근 스마트폰사용 등 웹어플리케이션이 많아지면서 디이터가 늘어나몬서 관계형 데이터베이스의 문제점이 나오게 된다

스케일업, 스케일아웃
퍼포먼스가 좋을수록 비용이드는 문제가 있다

db 스케일아웃은 문제점을 가진다.

따라서 nosql이 등장

Not Only SQL
Non-Relational
Next-generation Databases
Distributed Architecture
Open Source

데이터베이스
컬렉션, 테이블
문서, 레코드
필드, 컬럼
인덱스, 인덱스,

임베딩 레퍼런스, 조인


스키마리스
자유로운 대신 더 많은 책임(어플리케이션에서 검증과정이많이 추가될것임)

수평확장
rdb에서 샤딩이 몽고에서는?
샤디드  클러스터 컴포넌트

청크 개념
큰컬렉션을 여러조각으로 파티션하고 샤드서버에 분산해서 저장하는데 이때 나눠진 데이터 조각

샤딩알고리즘?

레인지드 샤딩
어떤데이터를 어디에 저장할지등, 샤드 키 설계에 따라 균형있게 분산이되지 않을 수도 있다

해시드 샤딩
결국 레인지드 샤딩으로 구현, 샤드 키 값의 해시값을 이용해서 청크를 할당


몽고디비의 퍼포먼스?
기본적으로 인덱스를 지원한다. rdb사용할때는 당연하겟지만 nosql은 그렇지는 않다.

레플리케이션
고가용성을 위해 중복도,ㄴ 데이터셋을 준비


관계형데이터베이스 설계의 핵심읕 정규화
데이터중복제거, 이상현상 방지
일대다관계등 표현
조인자체는 굉장히 오버헤드가 큰 연산이다

문서화 데이터베이스로접근한다면
전체가 하나의 데이터다. 비정규화
데이터중복저장. 조인필요성 최소화

비정규화는 어느정도로?
애플리케이션의 질의형태파악
질의성능 향상을 위해 노력


비정규화 장점
질의성능향상
조인연산감소
더적은 테이블 참조

단점
삽입갱신비용이비쌈
일관성문제발생
더많은 저장공간 사용

항상 트레이으오프관계에 있다.

일대다관계는배열로저장하면된다


case study
랭킹 개발 플랫폼

요구사항
대용량데이터적재
분산데이터처리
빠른조회
클러스터 구성 가능

폴리글럿 퍼시스턴스